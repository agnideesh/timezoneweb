<!DOCTYPE html>
<html lang="en" class="page-ready" style="visibility: hidden; opacity: 0;">
<script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/content/location/location.js"
    id="eppiocemhmnlbhjplcgkofciiegomcon"></script>
<script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/extend-native-history-api.js"></script>
<script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/requests.js"></script>

<head>
    <script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/content/location/location.js"
        id="eppiocemhmnlbhjplcgkofciiegomcon"></script>
    <script bis_use="true" type="text/javascript" charset="utf-8"
        data-bis-config="[&quot;facebook.com/&quot;,&quot;twitter.com/&quot;,&quot;youtube-nocookie.com/embed/&quot;,&quot;//vk.com/&quot;,&quot;//www.vk.com/&quot;,&quot;linkedin.com/&quot;,&quot;//www.linkedin.com/&quot;,&quot;//instagram.com/&quot;,&quot;//www.instagram.com/&quot;,&quot;//www.google.com/recaptcha/api2/&quot;,&quot;//hangouts.google.com/webchat/&quot;,&quot;//www.google.com/calendar/&quot;,&quot;//www.google.com/maps/embed&quot;,&quot;spotify.com/&quot;,&quot;soundcloud.com/&quot;,&quot;//player.vimeo.com/&quot;,&quot;//disqus.com/&quot;,&quot;//tgwidget.com/&quot;,&quot;//js.driftt.com/&quot;,&quot;friends2follow.com&quot;,&quot;/widget&quot;,&quot;login&quot;,&quot;//video.bigmir.net/&quot;,&quot;blogger.com&quot;,&quot;//smartlock.google.com/&quot;,&quot;//keep.google.com/&quot;,&quot;/web.tolstoycomments.com/&quot;,&quot;moz-extension://&quot;,&quot;chrome-extension://&quot;,&quot;/auth/&quot;,&quot;//analytics.google.com/&quot;,&quot;adclarity.com&quot;,&quot;paddle.com/checkout&quot;,&quot;hcaptcha.com&quot;,&quot;recaptcha.net&quot;,&quot;2captcha.com&quot;,&quot;accounts.google.com&quot;,&quot;www.google.com/shopping/customerreviews&quot;,&quot;buy.tinypass.com&quot;,&quot;gstatic.com&quot;,&quot;secureir.ebaystatic.com&quot;,&quot;docs.google.com&quot;,&quot;contacts.google.com&quot;,&quot;github.com&quot;,&quot;mail.google.com&quot;,&quot;chat.google.com&quot;,&quot;audio.xpleer.com&quot;,&quot;keepa.com&quot;,&quot;static.xx.fbcdn.net&quot;,&quot;sas.selleramp.com&quot;,&quot;1plus1.video&quot;,&quot;console.googletagservices.com&quot;,&quot;//lnkd.demdex.net/&quot;,&quot;//radar.cedexis.com/&quot;,&quot;//li.protechts.net/&quot;,&quot;challenges.cloudflare.com/&quot;,&quot;ogs.google.com&quot;]"
        src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/executors/traffic.js"></script>
    <script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/extend-native-history-api.js"></script>
    <script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/requests.js"></script>
    <script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/content/location/location.js"
        id="eppiocemhmnlbhjplcgkofciiegomcon"></script>
    <script bis_use="true" type="text/javascript" charset="utf-8"
        data-bis-config="[&quot;facebook.com/&quot;,&quot;twitter.com/&quot;,&quot;youtube-nocookie.com/embed/&quot;,&quot;//vk.com/&quot;,&quot;//www.vk.com/&quot;,&quot;linkedin.com/&quot;,&quot;//www.linkedin.com/&quot;,&quot;//instagram.com/&quot;,&quot;//www.instagram.com/&quot;,&quot;//www.google.com/recaptcha/api2/&quot;,&quot;//hangouts.google.com/webchat/&quot;,&quot;//www.google.com/calendar/&quot;,&quot;//www.google.com/maps/embed&quot;,&quot;spotify.com/&quot;,&quot;soundcloud.com/&quot;,&quot;//player.vimeo.com/&quot;,&quot;//disqus.com/&quot;,&quot;//tgwidget.com/&quot;,&quot;//js.driftt.com/&quot;,&quot;friends2follow.com&quot;,&quot;/widget&quot;,&quot;login&quot;,&quot;//video.bigmir.net/&quot;,&quot;blogger.com&quot;,&quot;//smartlock.google.com/&quot;,&quot;//keep.google.com/&quot;,&quot;/web.tolstoycomments.com/&quot;,&quot;moz-extension://&quot;,&quot;chrome-extension://&quot;,&quot;/auth/&quot;,&quot;//analytics.google.com/&quot;,&quot;adclarity.com&quot;,&quot;paddle.com/checkout&quot;,&quot;hcaptcha.com&quot;,&quot;recaptcha.net&quot;,&quot;2captcha.com&quot;,&quot;accounts.google.com&quot;,&quot;www.google.com/shopping/customerreviews&quot;,&quot;buy.tinypass.com&quot;,&quot;gstatic.com&quot;,&quot;secureir.ebaystatic.com&quot;,&quot;docs.google.com&quot;,&quot;contacts.google.com&quot;,&quot;github.com&quot;,&quot;mail.google.com&quot;,&quot;chat.google.com&quot;,&quot;audio.xpleer.com&quot;,&quot;keepa.com&quot;,&quot;static.xx.fbcdn.net&quot;,&quot;sas.selleramp.com&quot;,&quot;1plus1.video&quot;,&quot;console.googletagservices.com&quot;,&quot;//lnkd.demdex.net/&quot;,&quot;//radar.cedexis.com/&quot;,&quot;//li.protechts.net/&quot;,&quot;challenges.cloudflare.com/&quot;,&quot;ogs.google.com&quot;]"
        src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/executors/traffic.js"></script>
    <script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/extend-native-history-api.js"></script>
    <script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/requests.js"></script>
    <script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/content/location/location.js"
        id="eppiocemhmnlbhjplcgkofciiegomcon"></script>
    <script bis_use="true" type="text/javascript" charset="utf-8"
        data-bis-config="[&quot;facebook.com/&quot;,&quot;twitter.com/&quot;,&quot;youtube-nocookie.com/embed/&quot;,&quot;//vk.com/&quot;,&quot;//www.vk.com/&quot;,&quot;linkedin.com/&quot;,&quot;//www.linkedin.com/&quot;,&quot;//instagram.com/&quot;,&quot;//www.instagram.com/&quot;,&quot;//www.google.com/recaptcha/api2/&quot;,&quot;//hangouts.google.com/webchat/&quot;,&quot;//www.google.com/calendar/&quot;,&quot;//www.google.com/maps/embed&quot;,&quot;spotify.com/&quot;,&quot;soundcloud.com/&quot;,&quot;//player.vimeo.com/&quot;,&quot;//disqus.com/&quot;,&quot;//tgwidget.com/&quot;,&quot;//js.driftt.com/&quot;,&quot;friends2follow.com&quot;,&quot;/widget&quot;,&quot;login&quot;,&quot;//video.bigmir.net/&quot;,&quot;blogger.com&quot;,&quot;//smartlock.google.com/&quot;,&quot;//keep.google.com/&quot;,&quot;/web.tolstoycomments.com/&quot;,&quot;moz-extension://&quot;,&quot;chrome-extension://&quot;,&quot;/auth/&quot;,&quot;//analytics.google.com/&quot;,&quot;adclarity.com&quot;,&quot;paddle.com/checkout&quot;,&quot;hcaptcha.com&quot;,&quot;recaptcha.net&quot;,&quot;2captcha.com&quot;,&quot;accounts.google.com&quot;,&quot;www.google.com/shopping/customerreviews&quot;,&quot;buy.tinypass.com&quot;,&quot;gstatic.com&quot;,&quot;secureir.ebaystatic.com&quot;,&quot;docs.google.com&quot;,&quot;contacts.google.com&quot;,&quot;github.com&quot;,&quot;mail.google.com&quot;,&quot;chat.google.com&quot;,&quot;audio.xpleer.com&quot;,&quot;keepa.com&quot;,&quot;static.xx.fbcdn.net&quot;,&quot;sas.selleramp.com&quot;,&quot;1plus1.video&quot;,&quot;console.googletagservices.com&quot;,&quot;//lnkd.demdex.net/&quot;,&quot;//radar.cedexis.com/&quot;,&quot;//li.protechts.net/&quot;,&quot;challenges.cloudflare.com/&quot;,&quot;ogs.google.com&quot;]"
        src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/executors/traffic.js"></script>


    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timezone - Bill Summary</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../edit-mode.css">
    <style>
        /* Fixed for 1080x1920 resolution - NO SCROLLING */
        html,
        body {
            overflow: hidden;
        }

        .container {
            width: 1080px;
            height: 1920px;
            overflow: hidden;
        }

        .content {
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            overflow: hidden;
            height: 100%;
            width: 100%;
            padding-top: 100px;
        }

        /* Header Section */
        .header-section {
            text-align: center;
            margin-bottom: 40px;
        }

        .header-title {
            font-family: 'Nulshock', sans-serif;
            font-size: 56px;
            color: #ffffff;
            text-shadow:
                0 0 20px rgba(255, 255, 255, 0.3),
                0 4px 8px rgba(0, 0, 0, 0.5);
            letter-spacing: 3px;
            line-height: 1.2;
        }

        /* Card Display Section */
        .card-display {
            margin: 30px 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .card-image {
            width: 400px;
            height: auto;
            object-fit: contain;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.5));
        }

        /* Bill Details Box */
        .bill-box {
            position: relative;
            width: 800px;
            min-height: 350px;
            margin: 30px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 50px 60px;
        }

        .bill-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: fill;
            border-radius: 20px;
            z-index: 0;
        }

        .bill-content {
            position: relative;
            z-index: 1;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        /* Bill Row */
        .bill-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .bill-title {
            font-family: 'Nulshock', sans-serif;
            font-size: 20px;
            color: #ffffff;
            letter-spacing: 2px;
            text-align: center;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .bill-row {
            display: flex;
            align-items: center;
            gap: 20px;
            width: 100%;
        }

        .checkbox-wrapper {
            position: relative;
            width: 60px;
            height: 60px;
            flex-shrink: 0;
        }

        .checkbox-bg {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .checkbox-tick {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            object-fit: contain;
            opacity: 1;
        }

        .value-group {
            display: flex;
            align-items: center;
            gap: 30px;
            flex: 1;
        }

        .value-item {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .bill-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .bill-amount {
            font-family: 'Nulshock', sans-serif;
            font-size: 42px;
        }

        .bill-amount.pink {
            background: linear-gradient(180deg, #ff9cff 0%, #ff9cff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .bill-currency {
            font-family: 'Nulshock', sans-serif;
            font-size: 18px;
            color: #ff9cff;
            letter-spacing: 1px;
        }

        .bill-tizo {
            font-family: 'Nulshock', sans-serif;
            font-size: 42px;
            background: linear-gradient(180deg, #acfcff 0%, #acfcff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .bill-tizo-label {
            font-family: 'Nulshock', sans-serif;
            font-size: 18px;
            color: #acfcff;
            letter-spacing: 1px;
        }

        .checkbox-icon {
            width: 40px;
            height: 40px;
            object-fit: contain;
        }

        /* Section Divider */
        .section-divider {
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            margin: 5px 0;
        }

        /* Total Section */
        .total-section {
            text-align: center;
            margin-top: 40px;
        }

        .total-label {
            font-family: 'Nulshock', sans-serif;
            font-size: 24px;
            color: #b8f5ff;
            letter-spacing: 3px;
            margin-bottom: 15px;
        }

        .total-amount {
            font-family: 'Nulshock', sans-serif;
            font-size: 120px;
            background: linear-gradient(180deg, #ffe741 0%, #ffe741 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            filter: drop-shadow(0 0 30px rgba(255, 231, 65, 0.4));
        }

        .total-unit {
            font-family: 'Nulshock', sans-serif;
            font-size: 40px;
            color: #ffe741;
            letter-spacing: 8px;
            margin-left: 10px;
        }

        /* Confirm Button */
        .confirm-button {
            position: relative;
            width: 550px;
            height: 120px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: transform 0.1s;
            margin-top: 50px;
        }

        .confirm-button:hover {
            transform: translateY(-4px);
        }

        .confirm-button:active {
            transform: scale(0.95);
        }

        .confirm-button-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            pointer-events: none;
        }

        .confirm-button-text {
            position: relative;
            z-index: 1;
            color: white;
            font-family: 'Nulshock', sans-serif;
            font-size: 46px;
            letter-spacing: 2px;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.5);
        }

        /* Button area with cat beside */
        .button-area {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }

        .cat-beside-button {
            width: 200px;
            height: auto;
        }

        /* When accepted=true, hide card */
        .accepted-mode .card-display {
            display: none !important;
        }

        .accepted-mode .header-section {
            transform: translate(40px, 80px) scale(1) !important;
        }

        .accepted-mode .total-section {
            transform: translate(0px, 450px) scale(1) !important;
        }

        .accepted-mode .bill-box {
            transform: translate(0px, 180px) scale(1.2) !important;
        }

        .accepted-mode .button-area {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
        }

        .accepted-mode .confirm-button {
            transform: none !important;
        }

        /* Hide cat in accepted mode */
        .accepted-mode .added-element[data-id^="added-"] {
            display: none !important;
        }

        /* ========== PRINT RECEIPT STYLES FOR 80MM THERMAL PAPER ========== */
        .print-receipt {
            display: none;
        }

        @media print {
            @page {
                size: 80mm auto;
                margin: 0;
            }

            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }

            /* Hide all screen elements */
            body {
                background: white !important;
                overflow: visible !important;
                margin: 0 !important;
                padding: 0 !important;
                width: 80mm !important;
                font-family: 'Courier New', monospace !important;
            }

            .video-bg {
                display: none !important;
            }

            .container,
            .back-button,
            .language-selector,
            .content {
                display: none !important;
            }

            /* Show and style the receipt for 80mm paper */
            .print-receipt {
                display: block !important;
                width: 72mm !important;
                max-width: 72mm !important;
                margin: 0 auto !important;
                padding: 3mm 4mm !important;
                font-family: 'Courier New', monospace !important;
                color: #000 !important;
                background: white !important;
                font-size: 10px !important;
            }

            .print-header {
                text-align: center;
                margin-bottom: 2mm !important;
            }

            .print-logo {
                font-size: 16px !important;
                font-weight: bold;
                letter-spacing: 1px !important;
            }

            .print-logo .time {
                color: #000;
            }

            .print-logo .zone {
                color: #000;
            }

            .print-website {
                font-size: 8px !important;
                color: #333;
                margin-top: 1mm !important;
            }

            .print-location {
                text-align: center;
                margin: 2mm 0 !important;
            }

            .print-location-name {
                font-weight: bold;
                font-size: 11px !important;
                color: #000;
            }

            .print-location-date {
                font-size: 9px !important;
                color: #333;
                margin-top: 1mm !important;
            }

            .print-divider {
                border: none;
                border-top: 1px dashed #000 !important;
                margin: 2mm 0 !important;
            }

            .print-message {
                text-align: center;
                font-size: 9px !important;
                color: #000;
                font-style: italic;
                margin: 2mm 0 !important;
                line-height: 1.3 !important;
            }

            .print-order-number {
                text-align: center;
                font-size: 14px !important;
                font-weight: bold;
                margin: 2mm 0 !important;
                letter-spacing: 0.5px !important;
            }

            .print-section {
                margin: 2mm 0 !important;
                padding-bottom: 2mm !important;
                border-bottom: 1px dashed #999 !important;
            }

            .print-section-title {
                font-weight: bold;
                font-size: 10px !important;
                margin-bottom: 1mm !important;
            }

            .print-row {
                display: flex;
                justify-content: space-between;
                font-size: 9px !important;
                margin: 1mm 0 !important;
                padding-left: 0 !important;
            }

            .print-row span:first-child {
                color: #333;
            }

            .print-row span:last-child {
                color: #000;
                font-weight: bold;
            }

            .print-total-section {
                margin-top: 3mm !important;
                padding-top: 2mm !important;
                border-top: 1px solid #000 !important;
                text-align: center;
            }

            .print-total-row {
                display: flex;
                justify-content: center;
                gap: 3mm !important;
                font-size: 11px !important;
                font-weight: bold;
                margin-bottom: 1mm !important;
            }

            .print-tizo-total {
                text-align: center;
                margin-top: 2mm !important;
            }

            .print-tizo-label {
                font-size: 9px !important;
                color: #333;
                margin-bottom: 1mm !important;
            }

            .print-tizo-amount {
                font-size: 24px !important;
                font-weight: bold;
                color: #000 !important;
            }

            .print-tizo-unit {
                font-size: 11px !important;
                color: #000 !important;
                font-weight: bold;
            }

            .print-footer {
                text-align: center;
                font-size: 8px !important;
                color: #333;
                margin-top: 3mm !important;
                font-style: italic;
                padding-top: 2mm !important;
                border-top: 1px dashed #999 !important;
            }
        }
    </style>
    <script bis_use="true" type="text/javascript" charset="utf-8"
        data-bis-config="[&quot;facebook.com/&quot;,&quot;twitter.com/&quot;,&quot;youtube-nocookie.com/embed/&quot;,&quot;//vk.com/&quot;,&quot;//www.vk.com/&quot;,&quot;linkedin.com/&quot;,&quot;//www.linkedin.com/&quot;,&quot;//instagram.com/&quot;,&quot;//www.instagram.com/&quot;,&quot;//www.google.com/recaptcha/api2/&quot;,&quot;//hangouts.google.com/webchat/&quot;,&quot;//www.google.com/calendar/&quot;,&quot;//www.google.com/maps/embed&quot;,&quot;spotify.com/&quot;,&quot;soundcloud.com/&quot;,&quot;//player.vimeo.com/&quot;,&quot;//disqus.com/&quot;,&quot;//tgwidget.com/&quot;,&quot;//js.driftt.com/&quot;,&quot;friends2follow.com&quot;,&quot;/widget&quot;,&quot;login&quot;,&quot;//video.bigmir.net/&quot;,&quot;blogger.com&quot;,&quot;//smartlock.google.com/&quot;,&quot;//keep.google.com/&quot;,&quot;/web.tolstoycomments.com/&quot;,&quot;moz-extension://&quot;,&quot;chrome-extension://&quot;,&quot;/auth/&quot;,&quot;//analytics.google.com/&quot;,&quot;adclarity.com&quot;,&quot;paddle.com/checkout&quot;,&quot;hcaptcha.com&quot;,&quot;recaptcha.net&quot;,&quot;2captcha.com&quot;,&quot;accounts.google.com&quot;,&quot;www.google.com/shopping/customerreviews&quot;,&quot;buy.tinypass.com&quot;,&quot;gstatic.com&quot;,&quot;secureir.ebaystatic.com&quot;,&quot;docs.google.com&quot;,&quot;contacts.google.com&quot;,&quot;github.com&quot;,&quot;mail.google.com&quot;,&quot;chat.google.com&quot;,&quot;audio.xpleer.com&quot;,&quot;keepa.com&quot;,&quot;static.xx.fbcdn.net&quot;,&quot;sas.selleramp.com&quot;,&quot;1plus1.video&quot;,&quot;console.googletagservices.com&quot;,&quot;//lnkd.demdex.net/&quot;,&quot;//radar.cedexis.com/&quot;,&quot;//li.protechts.net/&quot;,&quot;challenges.cloudflare.com/&quot;,&quot;ogs.google.com&quot;]"
        src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/executors/traffic.js"></script>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(0, 255, 255, 0.2);
            border-top-color: #00ffff;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="" __processed_1b5b6f2a-8cf0-41e1-9de3-00113227a38d__="true"
    bis_register="W3sibWFzdGVyIjp0cnVlLCJleHRlbnNpb25JZCI6ImVwcGlvY2VtaG1ubGJoanBsY2drb2ZjaWllZ29tY29uIiwiYWRibG9ja2VyU3RhdHVzIjp7IkRJU1BMQVkiOiJkaXNhYmxlZCIsIkZBQ0VCT09LIjoiZGlzYWJsZWQiLCJUV0lUVEVSIjoiZGlzYWJsZWQiLCJSRURESVQiOiJkaXNhYmxlZCIsIlBJTlRFUkVTVCI6ImRpc2FibGVkIiwiSU5TVEFHUkFNIjoiZGlzYWJsZWQiLCJUSUtUT0siOiJkaXNhYmxlZCIsIkxJTktFRElOIjoiZGlzYWJsZWQiLCJDT05GSUciOiJkaXNhYmxlZCJ9LCJ2ZXJzaW9uIjoiMi4wLjM1Iiwic2NvcmUiOjIwMDM1fV0="
    __processed_43752a94-70c5-4477-9c46-ed3f1e0e80c5__="true" __processed_715a48ce-fc20-498e-92c5-0dfc2863a727__="true"
    __processed_51fcb111-1448-4667-a80f-e77a2ee17156__="true" __processed_61f82712-0389-44d7-a95d-8557f2f1165f__="true"
    __processed_0288f96a-52a0-4153-a56c-aaed646982bc__="true" __processed_102b3ba1-f27f-4335-a934-1160cf367e68__="true"
    __processed_c3d17c4d-177b-438d-835b-3019ae07877b__="true" __processed_36f66482-8525-4b2e-8b78-6cb6f1b30d92__="true"
    __processed_c64dc54f-8f04-4a7a-8b9f-7040d1befc86__="true" __processed_5df5f472-d8aa-4a99-a0ec-5128eed49fee__="true"
    __processed_a8472836-063e-4cfe-a143-2f628409573e__="true" __processed_c73adfb8-0b89-4051-adaa-0a6cfd5354a7__="true"
    __processed_4037f37a-4b80-4149-9c9a-38685d31f5a5__="true" __processed_7555f79c-6f24-4dac-ba4b-b0ee99a7e738__="true"
    __processed_a1788223-465c-4106-9e62-f7ad748db8ea__="true" __processed_04d951b1-947a-4ad6-9443-b068b7a88e74__="true">
    <div class="container accepted-mode" bis_skin_checked="1">
        <!-- Video Background -->
        <video class="video-bg" autoplay="" loop="" muted="" playsinline="">
            <source src="other-bg.mp4" type="video/mp4">
        </video>
        <!-- Back Button -->
        <img src="back-button.png" alt="Back" class="back-button" onclick="window.history.back()">

        <!-- Home Button -->
        <img src="home.png" alt="Home" class="editable added-element" data-id="home-button" onclick="goHome()"
            style="max-width: 200px; height: auto; position: absolute; top: 50%; left: 50%; transform: translate(calc(-50% + 458.667px), calc(-50% - 792px)) scale(0.9); z-index: 50; cursor: pointer;">

        <div class="content" bis_skin_checked="1">
            <!-- Header Section -->
            <div class="header-section editable" data-id="header-section"
                style="transform: translate(-45.3333px, 197.333px) scale(0.8);" bis_skin_checked="1">
                <h1 id="header-title" class="header-title">BERIKUT RINGKASAN<br>PEMBAYARANMU</h1>
            </div>


            <!-- Bill Details Box -->
            <div class="bill-box editable" data-id="bill-box" style="transform: translate(109.333px, 648px) scale(1.3);"
                bis_skin_checked="1">
                <img src="bill-bg.png" alt="Bill Background" class="bill-bg">

                <div class="bill-content" bis_skin_checked="1">
                    <!-- Top-up Section -->
                    <div class="bill-section editable" data-id="topup-section"
                        style="transform: translate(2.66663px, 29.3333px) scale(1.1);" bis_skin_checked="1">
                        <h3 id="topup-title" class="bill-title">JUMLAH TOP UP:</h3>
                        <div class="bill-row editable" data-id="topup-row" bis_skin_checked="1"
                            style="transform: translate(13.3333px, -10.6666px) scale(1);">
                            <div class="checkbox-wrapper" bis_skin_checked="1">
                                <img src="checkbox-icon.png" alt="Checkbox" class="checkbox-bg">
                                <img src="tick-icon.png" alt="Tick" class="checkbox-tick">
                            </div>
                            <div class="value-group" bis_skin_checked="1">
                                <div class="value-item" bis_skin_checked="1">
                                    <span id="topup-amount" class="bill-amount pink">600</span>
                                    <span class="bill-currency">Rb</span>
                                </div>
                                <div class="value-item" bis_skin_checked="1">
                                    <span id="topup-tizo" class="bill-tizo">1350</span>
                                    <span class="bill-tizo-label">TIZO</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="section-divider editable" data-id="section-divider" bis_skin_checked="1"
                        style="display: none;"></div>

                    <!-- Scratch Card Section -->
                    <div class="bill-section editable" data-id="scratch-section"
                        style="transform: translate(0px, -10.6667px) scale(1); display: none;" bis_skin_checked="1">
                        <h3 id="scratch-title" class="bill-title">SCRATCH CARD DEALS:</h3>
                        <div class="bill-row editable" data-id="scratch-row" bis_skin_checked="1"
                            style="transform: translate(26.6667px, -8.00009px) scale(1.1);">
                            <div class="checkbox-wrapper" bis_skin_checked="1">
                                <img src="checkbox-icon.png" alt="Checkbox" class="checkbox-bg">
                                <img id="scratch-checkbox" src="tick-icon.png" alt="Tick" class="checkbox-tick"
                                    style="opacity: 0.3;">
                            </div>
                            <div class="value-group" bis_skin_checked="1">
                                <div class="value-item" bis_skin_checked="1">
                                    <span id="scratch-amount" class="bill-amount pink" style="opacity: 0.5;">0</span>
                                    <span class="bill-currency">Rb</span>
                                </div>
                                <div class="value-item" bis_skin_checked="1">
                                    <span id="scratch-tizo" class="bill-tizo" style="opacity: 0.5;">0</span>
                                    <span class="bill-tizo-label">TIZO</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Total Section -->
            <div class="total-section editable" data-id="total-section"
                style="transform: translate(104px, 1445.33px) scale(1);" bis_skin_checked="1">
                <p id="total-label" class="total-label editable" data-id="total-label"
                    style="transform: translate(0.00012207px, -162.667px) scale(1);">TOTAL TIZO YANG KAMU DAPATKAN:</p>
                <div class="editable" data-id="total-amount-display"
                    style="display: flex; align-items: baseline; justify-content: center; transform: translate(18.6667px, -136px) scale(1);"
                    bis_skin_checked="1">
                    <span id="total-amount" class="total-amount">1350</span>
                    <span class="total-unit">TIZO</span>
                </div>
            </div>

            <!-- Cat Character (separate element for independent editing) -->
            <img src="cat-character.gif" alt="Cat" class="cat-beside-button editable" id="cat-beside"
                data-id="cat-character"
                style="z-index: 1; position: absolute; max-width: 250px; height: auto; top: 50%; left: 50%; transform: translate(-424px, 210.667px) scale(1.1); display: none;">

            <!-- Button Area -->
            <div class="button-area editable" id="button-area" data-id="button-area" bis_skin_checked="1"
                style="z-index: 10; position: absolute; top: 50%; left: 50%; transform: translate(-290.666px, 24.0001px) scale(1.3);">
                <div class="confirm-button editable" data-id="confirm-button" onclick="handleConfirm()"
                    style="z-index: 3; position: relative; transform: translate(-1218.67px, 1194.67px) scale(1.2);"
                    bis_skin_checked="1">
                    <img src="button.png" alt="Button" class="confirm-button-bg">
                    <span id="confirm-text" class="confirm-button-text">CETAK</span>
                </div>
            </div>
            <img src="cat-character.gif" alt="Added Image" class="editable added-element"
                data-id="added-1-1765307010836"
                style="display: none; max-width: 200px; height: auto; position: absolute; top: 50%; left: 50%; transform: translate(calc(-50% - 216px), calc(-50% + 562.667px)) scale(1); z-index: 2;">
        </div>
    </div>

    <!-- Print Receipt (hidden on screen, shown when printing) -->
    <div class="print-receipt" bis_skin_checked="1">
        <div class="print-header" bis_skin_checked="1">
            <div class="print-logo" bis_skin_checked="1">
                <span class="time">TIME</span><span class="zone">ZONE</span>
            </div>
            <div class="print-website" bis_skin_checked="1">www.timezonegames.com</div>
        </div>

        <div class="print-location" bis_skin_checked="1">
            <div class="print-location-name" bis_skin_checked="1">Lippo Mall Puri</div>
            <div class="print-location-date" id="print-date" bis_skin_checked="1">Rabu, 10/12/2025 14:50</div>
        </div>

        <hr class="print-divider">

        <p class="print-message" id="print-message">Dimohon untuk menyerahkan struk ini kepada kasir untuk menyelesaikan
            pembayaran.</p>

        <div class="print-order-number" id="print-order-number" bis_skin_checked="1">251210TZ1450ZVBN</div>

        <hr class="print-divider">

        <div class="print-section" bis_skin_checked="1">
            <div class="print-section-title" id="print-topup-title" bis_skin_checked="1">Paket Top-up</div>
            <div class="print-row" bis_skin_checked="1">
                <span id="print-nominal-label">Nominal Transaksi :</span>
                <span id="print-nominal-value">Rp600.000</span>
            </div>
            <div class="print-row" bis_skin_checked="1">
                <span>Total Tizo</span>
                <span id="print-topup-tizo">1350 Tizo</span>
            </div>
        </div>

        <div class="print-section" id="print-scratch-section" bis_skin_checked="1" style="display: none;">
            <div class="print-section-title" id="print-scratch-title" bis_skin_checked="1">Bonus Scratchcard</div>
            <div class="print-row" bis_skin_checked="1">
                <span id="print-scratch-nominal-label">Nominal Transaksi :</span>
                <span id="print-scratch-nominal-value">Rp0</span>
            </div>
            <div class="print-row" bis_skin_checked="1">
                <span>Total Tizo</span>
                <span id="print-scratch-tizo">0 Tizo</span>
            </div>
        </div>

        <div class="print-total-section" bis_skin_checked="1">
            <div class="print-total-row" bis_skin_checked="1">
                <span id="print-total-label">Total Bayar:</span>
                <span id="print-total-value">Rp600.000</span>
            </div>
            <div class="print-tizo-total" bis_skin_checked="1">
                <div class="print-tizo-label" id="print-tizo-label" bis_skin_checked="1">Kamu menerima total:</div>
                <div bis_skin_checked="1"><span class="print-tizo-amount" id="print-tizo-amount">1350</span> <span
                        class="print-tizo-unit">Tizo</span></div>
            </div>
        </div>

        <p class="print-footer" id="print-footer">Penawaran ini berlaku untuk ... Kartu yang kamu miliki.</p>
    </div>

    <script src="page-loader.js"></script>
    <script src="session-manager.js"></script>
    <script src="language.js"></script>
    <script src="../edit-mode.js"></script>
    <script>
        // Set current page in session
        setCurrentPage('bill-summary');

        const translations = {
            en: {
                headerTitle: "HERE IS YOUR<br>PAYMENT SUMMARY",
                topupTitle: "TOP UP AMOUNT:",
                scratchTitle: "SCRATCH CARD DEALS:",
                totalLabel: "TOTAL TIZO YOU GET:",
                confirmText: "PRINT",
                langLabel: "English",
                // Print receipt translations
                printMessage: "Please present this receipt to the cashier to complete the payment.",
                printTopupTitle: "Top-up Package",
                printNominalLabel: "Transaction Amount :",
                printScratchTitle: "Bonus Scratchcard",
                printTotalLabel: "Total Payment:",
                printTizoLabel: "You have received a total of:",
                printFooter: "This offer is valid for ... of your cards."
            },
            id: {
                headerTitle: "BERIKUT RINGKASAN<br>PEMBAYARANMU",
                topupTitle: "JUMLAH TOP UP:",
                scratchTitle: "SCRATCH CARD DEALS:",
                totalLabel: "TOTAL TIZO YANG KAMU DAPATKAN:",
                confirmText: "CETAK",
                langLabel: "Bahasa",
                // Print receipt translations
                printMessage: "Dimohon untuk menyerahkan struk ini kepada kasir untuk menyelesaikan pembayaran.",
                printTopupTitle: "Paket Top-up",
                printNominalLabel: "Nominal Transaksi :",
                printScratchTitle: "Bonus Scratchcard",
                printTotalLabel: "Total Bayar:",
                printTizoLabel: "Kamu menerima total:",
                printFooter: "Penawaran ini berlaku untuk ... Kartu yang kamu miliki."
            }
        };

        let currentLang = getCurrentLanguage();
        let scratchCardAccepted = true; // Will be set based on navigation

        function toggleLanguage() {
            const dropdown = document.getElementById('lang-dropdown');
            dropdown.classList.toggle('hidden');
        }

        function applyLanguage(lang) {
            currentLang = lang;
            const data = translations[lang];

            document.getElementById('header-title').innerHTML = data.headerTitle;
            document.getElementById('topup-title').textContent = data.topupTitle;
            document.getElementById('scratch-title').textContent = data.scratchTitle;
            document.getElementById('total-label').textContent = data.totalLabel;
            document.getElementById('confirm-text').textContent = data.confirmText;
            const langEl = document.getElementById('current-lang');
            if (langEl) langEl.textContent = data.langLabel;

            // Update print receipt text
            document.getElementById('print-message').textContent = data.printMessage;
            document.getElementById('print-topup-title').textContent = data.printTopupTitle;
            document.getElementById('print-nominal-label').textContent = data.printNominalLabel;
            document.getElementById('print-scratch-title').textContent = data.printScratchTitle;
            document.getElementById('print-scratch-nominal-label').textContent = data.printNominalLabel;
            document.getElementById('print-total-label').textContent = data.printTotalLabel;
            document.getElementById('print-tizo-label').textContent = data.printTizoLabel;
            document.getElementById('print-footer').textContent = data.printFooter;

            // Update print date
            const now = new Date();
            const days = lang === 'id'
                ? ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu']
                : ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
            const day = days[now.getDay()];
            const date = now.toLocaleDateString('en-GB').replace(/\//g, '/');
            const time = now.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('print-date').textContent = `${day}, ${date} ${time}`;
        }

        function setLanguage(lang) {
            saveLanguage(lang);
            applyLanguage(lang);
            document.getElementById('lang-dropdown').classList.add('hidden');
        }

        function loadBillData() {
            // Get session data
            const session = getSession();

            // Check if scratch card was accepted from session
            // The accept-scratchcard page sets this value based on checkbox state
            if (session && session.scratchCardAccepted !== undefined) {
                scratchCardAccepted = session.scratchCardAccepted;
            }
            console.log('Scratch card accepted:', scratchCardAccepted);

            // Get values from session first, fallback to localStorage
            const topupAmount = session?.offerCost || localStorage.getItem('topupAmount') || '150000';
            const topupTizo = session?.offerTizo || localStorage.getItem('topupTizo') || '180';
            // If scratch card was not accepted, use 0 for bonus values
            const scratchAmountRaw = scratchCardAccepted ? (session?.bonusCost || localStorage.getItem('scratchAmount') || '200000') : '0';
            const scratchTizo = scratchCardAccepted ? (session?.bonusTizo || localStorage.getItem('scratchTizo') || '300') : '0';
            const cardType = session?.selectedCard || localStorage.getItem('selectedCard') || 'blue';

            // Convert from full rupiah to RB (Ribu) format - divide by 1000
            const topupAmountRb = Math.round(parseInt(topupAmount) / 1000);
            const scratchAmountRb = Math.round(parseInt(scratchAmountRaw) / 1000);

            // Update display with RB values
            document.getElementById('topup-amount').textContent = topupAmountRb;
            document.getElementById('topup-tizo').textContent = topupTizo;
            document.getElementById('scratch-amount').textContent = scratchAmountRb;
            document.getElementById('scratch-tizo').textContent = scratchTizo;

            // Set card image based on selected card (if element exists)
            const cardImages = {
                'blue': 'blue-card.png',
                'red': 'red-card.png',
                'gold': 'gold-card.png',
                'silver': 'silver-card.png'
            };
            const cardImageEl = document.getElementById('card-image');
            if (cardImageEl) {
                cardImageEl.src = cardImages[cardType] || 'bill-bg.png';
            }

            // Calculate total (use raw rupiah values for internal calculations)
            let totalTizo = parseInt(topupTizo);
            let totalAmount = parseInt(topupAmount); // This is full rupiah
            let totalAmountRb = topupAmountRb; // This is in RB

            if (scratchCardAccepted) {
                totalTizo += parseInt(scratchTizo);
                totalAmount += parseInt(scratchAmountRaw);
                totalAmountRb += scratchAmountRb;
                document.getElementById('scratch-checkbox').src = 'tick-icon.png';
            } else {
                // Hide or dim scratch card section if rejected
                document.getElementById('scratch-checkbox').style.opacity = '0.3';
                document.getElementById('scratch-amount').style.opacity = '0.5';
                document.getElementById('scratch-tizo').style.opacity = '0.5';
            }

            document.getElementById('total-amount').textContent = totalTizo;

            // Update session with calculated totals
            updateSession({
                totalCost: totalAmount,
                totalTizo: totalTizo
            });

            // Update print receipt values (use full rupiah for print)
            document.getElementById('print-nominal-value').textContent = 'Rp' + parseInt(topupAmount).toLocaleString('id-ID');
            document.getElementById('print-topup-tizo').textContent = topupTizo + ' Tizo';
            document.getElementById('print-scratch-nominal-value').textContent = 'Rp' + parseInt(scratchAmountRaw).toLocaleString('id-ID');
            document.getElementById('print-scratch-tizo').textContent = scratchTizo + ' Tizo';
            document.getElementById('print-total-value').textContent = 'Rp' + totalAmount.toLocaleString('id-ID');
            document.getElementById('print-tizo-amount').textContent = totalTizo;

            // Generate and display order number
            const orderNumber = session?.orderNumber || generateOrderNumber();
            document.getElementById('print-order-number').textContent = orderNumber;

            // Hide scratch section in print if not accepted
            if (!scratchCardAccepted) {
                document.getElementById('print-scratch-section').style.display = 'none';
            }
        }

        function handleConfirm() {
            if (window.isEditModeActive && window.isEditModeActive()) {
                return;
            }
            console.log('Print clicked');

            // Complete the transaction in session
            completeTransaction();

            // Navigate to feedback page after print dialog closes
            window.onafterprint = function () {
                window.location.href = 'feedback.html';
            };

            // Show print dialog
            window.print();

            // Fallback for browsers that don't support onafterprint
            setTimeout(function () {
                if (window.location.href.indexOf('feedback') === -1) {
                    window.location.href = 'feedback.html';
                }
            }, 2000);
        }

        function goBack() {
            if (window.isEditModeActive && window.isEditModeActive()) return;
            window.history.back();
        }

        // Close dropdown
        window.onclick = function (event) {
            if (!event.target.matches('#lang-btn') && !event.target.closest('#lang-btn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (!openDropdown.classList.contains('hidden')) {
                        openDropdown.classList.add('hidden');
                    }
                }
            }
        }

        // Check if accepted mode from URL parameter
        function checkAcceptedMode() {
            const urlParams = new URLSearchParams(window.location.search);
            const accepted = urlParams.get('accepted');

            if (accepted === 'true') {
                document.querySelector('.container').classList.add('accepted-mode');
                // Update button text to "KONFIRMASI TOP-UP"
                document.getElementById('confirm-text').textContent = 'KONFIRMASI TOP-UP';
            } else if (accepted === 'false') {
                // Scratch card was rejected - hide the scratch card section entirely
                scratchCardAccepted = false;
                const scratchSection = document.querySelector('[data-id="scratch-section"]');
                if (scratchSection) scratchSection.style.display = 'none';
                // Also hide the divider above scratch section
                const divider = document.querySelector('[data-id="section-divider"]');
                if (divider) divider.style.display = 'none';
                // Hide the cat
                const cat = document.getElementById('cat-beside');
                if (cat) cat.style.display = 'none';
            } else {
                // In non-accepted mode, hide the cat from button area
                const cat = document.getElementById('cat-beside');
                if (cat) cat.style.display = 'none';
            }
        }

        // Initialize page with loader
        initPageWithLoader({
            onDataLoad: async () => {
                checkAcceptedMode();
                applyLanguage(currentLang);
                loadBillData();
            },
            minLoadTime: 300
        }).then(() => {
            initEditMode({ pageId: 'bill-summary' });
        });
    </script>



    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span><span id="PING_IFRAME_FORM_DETECTION"
        style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span><span id="PING_IFRAME_FORM_DETECTION"
        style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span><span id="PING_IFRAME_FORM_DETECTION"
        style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>


    <span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span><span id="PING_IFRAME_FORM_DETECTION"
        style="display: none;"></span><span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span>
</body>

</html>