<!DOCTYPE html>
<html lang="en" style="visibility: hidden; opacity: 0;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1080, initial-scale=1.0">
    <title>Timezone - Welcome Platinum</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../edit-mode.css">
    <style id="page-loader-styles">
        html {
            visibility: hidden;
            opacity: 0;
        }

        html.page-ready {
            visibility: visible !important;
            opacity: 1 !important;
            transition: opacity 0.3s ease-in-out;
        }

        .page-loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            transition: opacity 0.3s ease-out;
        }

        .page-loading-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .page-loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(229, 228, 226, 0.2);
            border-top-color: #e5e4e2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
    <style>
        .container {
            width: 1080px;
            height: 1920px;
            overflow: hidden;
        }

        .content {
            padding: 80px 50px 40px;
            justify-content: flex-start;
            overflow: hidden;
            height: 100%;
        }

        /* Header Section with Card */
        .header-section {
            display: flex;
            align-items: flex-start;
            width: 100%;
            margin-bottom: 30px;
            gap: 15px;
        }

        .card-gif {
            width: 240px;
            height: auto;
            object-fit: contain;
        }

        .header-text {
            flex: 1;
            text-align: right;
            padding-top: 10px;
        }

        .upgrade-subtitle {
            color: #e5e4e2;
            font-size: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 8px;
            font-family: 'Nulshock', 'Michroma', sans-serif;
        }

        .elite-title {
            font-family: 'Nulshock', 'Michroma', sans-serif;
            font-size: 60px;
            color: #e5e4e2;
            text-shadow: 0 0 30px rgba(229, 228, 226, 0.5);
            line-height: 1.1;
            text-transform: uppercase;
        }

        .now-text {
            color: #e5e4e2;
            font-size: 44px;
            font-family: 'Nulshock', 'Michroma', sans-serif;
            text-shadow: 0 0 20px rgba(229, 228, 226, 0.3);
        }

        /* Offer Card Section */
        .offer-card {
            position: relative;
            width: 550px;
            margin: 0 auto 30px;
        }

        .offer-card-bg {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 10px 40px rgba(229, 228, 226, 0.4));
        }

        .offer-card-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 30px;
        }

        /* RB Amount */
        .rb-amount {
            font-family: 'Nulshock', sans-serif;
            font-size: 72px;
            color: #182c4f;
            margin-bottom: 10px;
        }

        .rb-unit {
            font-size: 36px;
            color: #182c4f;
        }

        /* DAPAT text */
        .dapat-text {
            font-family: 'Nulshock', sans-serif;
            font-size: 24px;
            color: #ffffff;
            letter-spacing: 2px;
            margin: 5px 0;
        }

        /* TIZO Amount */
        .tizo-amount {
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 10px;
        }

        .tizo-number {
            font-family: 'Nulshock', sans-serif;
            font-size: 96px;
            color: #e5e4e2;
            text-shadow:
                0 0 20px rgba(229, 228, 226, 0.5),
                0 4px 8px rgba(0, 0, 0, 0.3);
        }

        /* Old TIZO strikethrough styling */
        .old-tizo {
            font-family: 'Nulshock', sans-serif;
            font-size: 32px;
            color: rgba(229, 228, 226, 0.4) !important;
            text-decoration: line-through !important;
            text-decoration-color: #dc2626 !important;
            text-decoration-thickness: 3px !important;
        }

        /* Info Text Section */
        .info-section {
            text-align: center;
            margin: 25px 0;
            padding: 0 60px;
        }

        .info-text {
            color: #e5e4e2;
            font-size: 18px;
            letter-spacing: 1px;
            line-height: 1.5;
            margin-bottom: 8px;
        }

        /* CTA Button Section */
        .cta-section {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: auto;
            padding-bottom: 50px;
        }

        .cta-button-wrapper {
            position: relative;
            width: 750px;
            height: 140px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: transform 0.1s;
            margin-bottom: 25px;
        }

        .cta-button-wrapper:hover {
            transform: translateY(-4px);
        }

        .cta-button-wrapper:active {
            transform: scale(0.95);
        }

        .cta-button-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            pointer-events: none;
        }

        .cta-button-text {
            position: relative;
            z-index: 1;
            color: white;
            font-family: 'Nulshock', sans-serif;
            font-size: 46px;
            letter-spacing: 2px;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.5);
            text-align: center;
            line-height: 1.3;
        }

        .skip-link {
            color: #a0a0a0;
            font-size: 22px;
            text-decoration: underline;
            cursor: pointer;
            letter-spacing: 2px;
            transition: color 0.2s;
        }

        .skip-link:hover {
            color: #ffffff;
        }

        /* 500 Tickets Animation */
        @keyframes ticketsPulse {
            0%, 100% {
                filter: drop-shadow(0 0 8px rgba(229, 228, 226, 0.4));
            }
            50% {
                filter: drop-shadow(0 0 25px rgba(229, 228, 226, 0.8)) drop-shadow(0 0 50px rgba(200, 200, 200, 0.5));
            }
        }

        .tickets-animated {
            animation: ticketsPulse 1.5s ease-in-out infinite;
        }

        /* Platinum-specific button style */
        .platinum-button {
            filter: grayscale(0.3) brightness(1.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Video Background -->
        <video class="video-bg" autoplay loop muted playsinline>
            <source src="other-bg.mp4" type="video/mp4">
        </video>
        <!-- Back Button -->
        <img src="back-button.png" alt="Back" class="back-button" onclick="window.history.back()">

        <!-- Home Button -->
        <img src="home.png" alt="Home" class="editable added-element" data-id="home-button" onclick="goHome()" style="max-width: 200px; height: auto; position: absolute; top: 68px; right: 30px; transform: scale(0.9); z-index: 100; cursor: pointer;">

        <div class="content">
            <!-- Header with Card Image and Title -->
            <div class="header-section">
                <img src="silver-card.png" alt="Platinum Card" class="card-gif editable" data-id="card-gif" style="transform: translate(74.6668px, 189.333px) scale(2.4);">
                <div class="header-text">
                    <p id="upgrade-text" class="upgrade-subtitle editable" data-id="upgrade-text" style="color: #e5e4e2; transform: translate(-218.667px, 178.666px) scale(1.7); font-weight: normal;">LANGSUNG UPGRADE KE</p>
                    <h1 class="elite-title editable" data-id="elite-title" style="color: #e5e4e2; transform: translate(-8.00012px, 194.667px) scale(1.1); font-weight: normal; text-align: right;">
                        PLATINUM</h1>
                    <p id="now-text" class="now-text editable" data-id="now-text" style="font-weight: normal !important; transform: translate(-10.6666px, 218.667px) scale(1.1);">SEKARANG!</p>
                </div>
            </div>

            <!-- Offer Card -->
            <div class="offer-card editable" data-id="offer-card" style="transform: translate(-15.9999px, 344px) scale(2);">
                <img src="SMALL-BUTTON-BLUE.png" alt="Offer Background" class="offer-card-bg platinum-button">
                <div class="offer-card-content">
                    <div class="rb-amount editable" data-id="rb-amount" style="transform: translate(-5.33334px, 0px) scale(1); font-weight: bold;">
                        <span id="rb-value">2000</span><span class="rb-unit">Rb</span>
                    </div>
                    <p class="dapat-text editable" id="dapat-text" data-id="dapat-text" style="transform: translate(5.33331px, -2.66675px) scale(1.1); font-weight: normal; text-align: center;">DAPAT</p>
                    <div class="tizo-amount">
                        <span class="tizo-number editable" data-id="tizo-number" id="tizo-value" style="transform: translate(-40.39px, 4.1629px) scale(0.7); text-align: justify; font-weight: bold; z-index: 30; position: relative;">5000</span>
                    </div>
                </div>
            </div>

            <!-- Info Text -->
            <div class="info-section editable" data-id="info-section" style="transform: translate(26.6667px, 749.333px) scale(1.6); text-align: center;">
                <p class="info-text" id="info-text-1">RP 1000 BERNILAI 1 TIZO.</p>
                <p class="info-text" id="info-text-2">GUNAKAN TIZO UNTUK MEMAINKAN GAME FAVORITMU.</p>
            </div>

            <!-- CTA Button -->
            <div class="cta-section">
                <div class="cta-button-wrapper editable" data-id="cta-button" onclick="handleGrabOffer()" style="transform: translate(-2.66658px, -0.000488281px) scale(1);">
                    <img src="button.png" alt="Button" class="cta-button-bg">
                    <span id="cta-text" class="cta-button-text">KLAIM SEKARANG</span>
                </div>
                <span id="skip-text" class="skip-link editable" data-id="skip-link" onclick="handleSkip()" style="transform: translate(-10.6667px, 13.333px) scale(1.3); font-weight: bold;">LEWATI DULU</span>
            </div>

            <img src="500-tickets.png" alt="Added Image" class="editable added-element tickets-animated" data-id="added-1-1765384562311" style="max-width: 200px; height: auto; position: absolute; top: 50%; left: 50%; z-index: 50; transform: translate(calc(-50% + 11.2279px), calc(-50% + 372.612px)) scale(3.2);">
            <p class="editable added-element added-text old-tizo" data-id="text-1-1765427733445" style="position: absolute; top: 50%; left: 50%; transform: translate(calc(-50% - 50.6666px), calc(-50% - 37.3333px)) scale(2); z-index: 50; font-family: Nulshock, sans-serif; font-size: 1.5rem; text-align: center; margin: 0px; max-width: 80%; color: rgba(229, 228, 226, 0.5) !important; text-decoration: line-through 3px rgb(220, 38, 38) !important;">
                2000</p>
            <p class="editable added-element added-text old-tizo" data-id="text-2-1765428135540" style="position: absolute; top: 50%; left: 50%; transform: translate(calc(-50% + 55.0693px), calc(-50% - 29.3335px)) scale(1.1); z-index: 50; font-family: Nulshock, sans-serif; font-size: 1.5rem; text-align: center; margin: 0px; max-width: 80%; color: rgba(229, 228, 226, 0.5) !important; text-decoration: line-through 3px rgb(220, 38, 38) !important;">
                TIZO</p>
            <p class="editable added-element added-text" data-id="text-1-1765428994694" style="position: absolute; top: 50%; left: 50%; transform: translate(calc(-50% + 200px), calc(-50% + 82.6667px)) scale(2.6); z-index: 50; font-family: Nulshock, sans-serif; font-size: 1.5rem; color: rgb(255, 255, 255); text-align: center; margin: 0px; max-width: 80%;">
                TIZO</p>
            <p class="editable added-element added-text" data-id="text-1-1765459240485" id="free-gift-value" style="position: absolute; top: 50%; left: 50%; transform: translate(calc(-50% + 10.6666px), calc(-50% + 346.667px)) scale(4.2); z-index: 50; font-family: Nulshock, sans-serif; font-size: 1.5rem; color: #e5e4e2; text-align: center; margin: 0px; max-width: 80%; font-weight: bold !important;">500</p>
            <p class="editable added-element added-text" data-id="text-2-1765459336851" id="gratis-tiket" style="position: absolute; top: 50%; left: 50%; transform: translate(calc(-50% + 8.00006px), calc(-50% + 437.333px)) scale(1.2); z-index: 50; font-family: Nulshock, sans-serif; font-size: 1.5rem; color: rgb(242, 202, 2); text-align: center; margin: 0px; max-width: 80%; font-weight: bold !important;">gratis TIket</p>
        </div>
    </div>

    <script src="page-loader.js"></script>
    <script src="session-manager.js"></script>
    <script src="language.js"></script>
    <script src="../edit-mode.js"></script>
    <script>
        // Set current page in session and mark as new user flow
        setCurrentPage('welcome-platinum');
        updateSession({ isNewPlayer: true, upgradeCardType: 'platinum' });

        const translations = {
            en: {
                upgradeText: "UPGRADE STRAIGHT TO",
                nowText: "NOW!",
                priceText: "2000Rb",
                dapatText: "GETS",
                berakhirText: "ENDS IN",
                infoText1: "SPEND Rp 1.000 EARN 1 TIZO",
                infoText2: "USE TIZOS TO PLAY YOUR FAVOURITE GAMES.",
                ctaText: "GRAB THIS OFFER<br>NOW!",
                skipText: "SKIP THIS",
                gratisTiket: "free tickets",
                langLabel: "English"
            },
            id: {
                upgradeText: "LANGSUNG UPGRADE KE",
                nowText: "SEKARANG!",
                priceText: "2000Rb",
                dapatText: "DAPAT",
                berakhirText: "BERAKHIR DALAM",
                infoText1: "RP 1000 BERNILAI 1 TIZO.",
                infoText2: "GUNAKAN TIZO UNTUK MEMAINKAN GAME FAVORITMU.",
                ctaText: "KLAIM SEKARANG",
                skipText: "LEWATI DULU",
                gratisTiket: "gratis tiket",
                langLabel: "Bahasa"
            }
        };

        let currentLang = getCurrentLanguage();

        function applyLanguage(lang) {
            currentLang = lang;
            const data = translations[lang];

            document.getElementById('upgrade-text').textContent = data.upgradeText;
            document.getElementById('now-text').textContent = data.nowText;
            document.getElementById('dapat-text').textContent = data.dapatText;
            document.getElementById('info-text-1').textContent = data.infoText1;
            document.getElementById('info-text-2').textContent = data.infoText2;
            document.getElementById('cta-text').innerHTML = data.ctaText;
            document.getElementById('skip-text').textContent = data.skipText;
            document.getElementById('gratis-tiket').textContent = data.gratisTiket;
        }

        function handleGrabOffer() {
            if (window.isEditModeActive && window.isEditModeActive()) return;
            
            console.log('Grab Platinum Offer clicked');

            const rbValue = document.getElementById('rb-value');
            const tizoValue = document.getElementById('tizo-value');

            const offerCostInRb = rbValue ? parseInt(rbValue.textContent) : 2000;
            const offerTizo = tizoValue ? parseInt(tizoValue.textContent) : 5000;
            const offerCost = offerCostInRb * 1000;

            updateSession({
                selectedCard: 'platinum',
                offerCost: offerCost,
                offerTizo: offerTizo,
                isNewPlayer: true
            });

            console.log('Platinum offer saved:', { offerCost, offerTizo });

            updateSession({ scratchCardSource: 'welcome-platinum' });
            window.location.href = 'scratch-card.html';
        }

        function handleSkip() {
            if (window.isEditModeActive && window.isEditModeActive()) return;
            console.log('Skip clicked - going to welcomeredcard page');
            window.location.href = 'welcomeredcard.html';
        }

        function goBack() {
            if (window.isEditModeActive && window.isEditModeActive()) return;
            window.location.href = 'custom-topup.html';
        }

        // Initialize page with loader
        initPageWithLoader({
            onDataLoad: async () => {
                applyLanguage(currentLang);
            },
            minLoadTime: 300
        }).then(() => {
            initEditMode({ pageId: 'welcome-platinum' });

            // Play shining sound
            const shiningAudio = new Audio('Shining.mp3');
            shiningAudio.volume = 0.6;
            shiningAudio.play().catch(e => console.log('Audio autoplay blocked:', e));
        });
    </script>
</body>
</html>
